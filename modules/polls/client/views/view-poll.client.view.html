<section>
  <div class="page-header">
    <h1 data-ng-bind="vm.poll.question"></h1>
  </div>
  <div class="pull-right" data-ng-hide="vm.poll.hasVoted">
    <a type="submit" class="btn btn-default" data-ng-click="vm.userVote(1)">{{vm.poll.option1}}</a>
    <a type="submit" class="btn btn-default" data-ng-click="vm.userVote(2)">{{vm.poll.option2}}</a>
  </div>
  <div class="poll-view" data-ng-show="vm.poll.hasVoted">
    <div class="row">
      <div style="width:50%">{{vm.poll.option1}}</div><div class="bar1" style={{vm.poll.style1}}>.</div>
    </div>
    <div class="row">
      <div>{{vm.poll.option2}}</div><div class="bar2" style={{vm.poll.style2}}>.</div>
    </div>

  </div>
  <br>
  <br>
  <div class="pull-right"
       data-ng-show="vm.poll.isCurrentUserOwner">
    <div data-ng-show="vm.poll.noOtherVote">
      <a class="btn btn-primary"
       data-ui-sref="polls.edit({ pollId: vm.poll._id })">
        <i class="glyphicon glyphicon-edit"></i>
      </a>
    </div>
    <div>
      <a class="btn btn-primary" data-ng-click="vm.remove()">
        <i class="glyphicon glyphicon-trash"></i>
      </a>
    </div>
  </div>
  <small>
    <em class="text-muted">
      Posted on
      <span data-ng-bind="vm.poll.created | date:'mediumDate'"></span>
      by
      <span data-ng-if="vm.poll.user"
            data-ng-bind="vm.poll.user.displayName"></span>
      <span data-ng-if="!vm.poll.user">Deleted User</span>
    </em>
  </small>
</section>
